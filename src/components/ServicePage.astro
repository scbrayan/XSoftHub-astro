---
import Layout from "../layouts/Layout.astro";
import Contact from "./sections/Contact.astro";
import type { ComponentProps } from "../types";
import { useTranslations } from "../i18n/utils";
import { Arrow } from "./icons/ui";

interface Props extends ComponentProps {
  title: string | string[];
  subtitle: string | string[];
  description: string | string[];
  features: string[];
  image: string;
  imageAlt: string;
  heroImage?: string; // Optional hero background image
}

const {
  lang,
  title,
  subtitle,
  description,
  features,
  image,
  imageAlt,
  heroImage,
} = Astro.props;

const t = useTranslations(lang);
const backgroundImage = heroImage || "/assets/img/hero_bg.jpeg";
---

<Layout title={`${title} - XSoftHub`} lang={lang}>
  <!-- Service Hero Section -->
  <section
    class="cs-page_head cs-bg"
    style={`background-image: url('${backgroundImage}');`}
  >
    <div class="container">
      <div class="cs-page_head_in">
        <h1 class="cs-page_title">{title}</h1>
        <!-- <p class="cs-page_subtitle">{subtitle}</p> -->
      </div>
    </div>
  </section>

  <!-- Service Content Section -->
  <section class="cs-gradient_bg_1 cs-shape_wrap_3 cs-parallax">
    <!-- Decorative Shape -->
    <div class="cs-shape_3"></div>
    <div class="cs-shape_4"></div>
    <div class="container">
      <div class="row align-items-center">
        <!-- Image Column -->
        <div
          class="col-lg-6 wow fadeInLeft cs-hidden_mobile"
          data-wow-duration="0.8s"
          data-wow-delay="0.2s"
        >
          <div class="cs-image_layer cs-style1">
            <div class="cs-image_layer_in">
              <img src={image} alt={imageAlt} class="img-fluid cs-radius_15" />
              <!-- Floating Elements -->
              <div class="cs-image_1 cs-hover_layer1">
                <svg width="150" height="150" viewBox="0 0 200 200">
                  <defs>
                    <linearGradient
                      id="grad1"
                      x1="0%"
                      y1="0%"
                      x2="100%"
                      y2="100%"
                    >
                      <stop
                        offset="0%"
                        style="stop-color:#667eea;stop-opacity:0.8"></stop>
                      <stop
                        offset="100%"
                        style="stop-color:#764ba2;stop-opacity:0.8"></stop>
                    </linearGradient>
                  </defs>
                  <circle cx="100" cy="100" r="80" fill="url(#grad1)"></circle>
                </svg>
              </div>
            </div>
          </div>
          <div class="cs-height_30 cs-height_lg_20"></div>
        </div>

        <!-- Content Column -->
        <div
          class="col-lg-6 wow fadeInRight"
          data-wow-duration="0.8s"
          data-wow-delay="0.4s"
        >
          <div class="cs-section_heading cs-style1">
            <h3 class="cs-section_subtitle cs-accent_color">
              {t("services.subtitle")}
            </h3>
            <!-- <h2 class="cs-section_title cs-font_50 cs-white_color">{title}</h2> -->
            <div class="cs-height_20 cs-height_lg_15"></div>
            <p class="cs-white_color cs-m0">{description}</p>
            <div class="cs-height_20 cs-height_lg_15"></div>
          </div>

          <!-- Features List -->
          <ul class="cs-features-list">
            {
              features.map((feature) => (
                <li class="cs-feature-item">
                  <span class="cs-accent_color">+ </span>
                  {feature}
                </li>
              ))
            }
          </ul>

          <div class="cs-height_25 cs-height_lg_20"></div>

          <!-- CTA Button -->
          <div
            class="cs-btn_group wow fadeInUp"
            data-wow-duration="0.8s"
            data-wow-delay="1.2s"
          >
            <a href={`/${lang}/contact`} class="cs-btn cs-style1 cs-btn_lg">
              <span>{t("service.cta")}</span>
              <Arrow width={19} height={13} />
            </a>
          </div>
        </div>
      </div>
    </div>
    <!-- <div class="cs-height_70 cs-height_lg_50"></div> -->
  </section>

  <!-- Pricing Section Slot -->
  <slot name="pricing" />

  <!-- <Contact lang={lang} /> -->
</Layout>

<style>
  /* Hero Section Styles */
  .cs-page_head {
    padding: 110px 0 40px;
    position: relative;
    background-size: cover;
    background-position: center;
  }

  .cs-page_head::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
  }

  .cs-page_head_in {
    position: relative;
    z-index: 2;
    text-align: center;
    color: white;
  }

  .cs-page_title {
    font-size: 36px;
    font-weight: 700;
    margin-bottom: 20px;
  }

  .cs-page_subtitle {
    font-size: 18px;
    opacity: 0.9;
  }

  /* Content Section Styles */
  .cs-image_layer {
    position: relative;
  }

  .cs-image_layer_in {
    position: relative;
    z-index: 2;
  }
  .cs-image_layer_in::after {
    opacity: 40%;
  }

  .cs-image_1 {
    position: absolute;
    top: -30px;
    right: -30px;
    z-index: 1;
    opacity: 0.3;
    animation: float 6s ease-in-out infinite;
  }

  .cs-iconbox_3_list {
    margin: 0;
    padding: 0;
  }

  .cs-features-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .cs-feature-item {
    margin-bottom: 4px;
    padding: 2px 0;
    font-size: 14px;
    font-weight: 400;
    line-height: 1.4;
    color: rgba(255, 255, 255, 0.9);
    transition: all 0.2s ease;
  }

  .cs-feature-item:hover {
    color: rgba(255, 255, 255, 1);
    transform: translateX(2px);
  }

  .cs-feature-item .cs-accent_color {
    font-size: 14px;
    font-weight: 500;
    margin-right: 6px;
  }

  /* Decorative Shapes */
  .cs-shape_3 {
    position: absolute;
    top: 10%;
    left: 5%;
    width: 100px;
    height: 100px;
    background: linear-gradient(
      135deg,
      rgba(102, 126, 234, 0.1) 0%,
      rgba(118, 75, 162, 0.1) 100%
    );
    border-radius: 50%;
    animation: float 8s ease-in-out infinite;
  }

  .cs-shape_4 {
    position: absolute;
    bottom: 10%;
    right: 5%;
    width: 150px;
    height: 150px;
    background: linear-gradient(
      135deg,
      rgba(118, 75, 162, 0.1) 0%,
      rgba(102, 126, 234, 0.1) 100%
    );
    border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
    animation: float 10s ease-in-out infinite reverse;
  }

  /* Animations */
  @keyframes float {
    0%,
    100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  /* Responsive Design */}



  @media (max-width: 768px) {
    /* Hero Section Mobile */
    .cs-page_head {
      padding: 80px 0 60px;
    }

    .cs-page_title {
      font-size: 28px;
      margin-bottom: 15px;
    }

    .cs-page_subtitle {
      font-size: 15px;
    }

    /* Content Section Mobile */
    .cs-feature-item {
      font-size: 13px;
      margin-bottom: 3px;
      padding: 1px 0;
      line-height: 1.3;
    }

    .cs-feature-item .cs-accent_color {
      font-size: 13px;
      margin-right: 5px;
    }

    .cs-image_1 {
      top: -15px;
      right: -15px;
      width: 120px;
      height: 120px;
    }

    .cs-shape_3,
    .cs-shape_4 {
      display: none;
    }

    /* Section spacing mobile */
    .cs-section_title {
      font-size: 24px !important;
      line-height: 1.3;
    }

    .cs-section_subtitle {
      font-size: 14px;
    }

    .cs-section_text p {
      font-size: 14px;
      line-height: 1.5;
    }

    /* Button mobile */
    .cs-btn {
      padding: 12px 24px;
      font-size: 14px;
    }
  }

  @media (max-width: 480px) {
    /* Extra small screens */
    .cs-page_head {
      padding: 60px 0 40px;
    }

    .cs-page_title {
      font-size: 24px;
    }

    .cs-feature-item {
      font-size: 12px;
      margin-bottom: 2px;
      padding: 1px 0;
      line-height: 1.2;
    }

    .cs-feature-item .cs-accent_color {
      font-size: 12px;
      margin-right: 4px;
    }

    .cs-section_title {
      font-size: 20px !important;
    }

    .cs-image_1 {
      display: none;
    }
  }
</style>
